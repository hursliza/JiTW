function onload(){
	printDate1();
	printTime1();
}
//13
function printDate1(){ 
	var d = new Date();	
    	var mm = d.getMonth()+1;
	if (mm<10){
    		mm='0'+mm;
	}
	var dd = d.getDate();
    	if (dd<10){
    		dd='0'+dd; 
	}
	document.getElementById('date1').value=d.getFullYear()+"-"+mm+"-"+dd;
}

function printTime1(){
   	var d = new Date(); 
	var hh = d.getHours();
	if (hh < 10) { hh = "0" + hh;}
	var mm = d.getMinutes();
	if (mm < 10) {mm = "0" + mm;}
	document.getElementById('time1').value=hh+":"+mm;
}

function correctDate(){
	var date = document.getElementById('date1').value;
	var regexDate = /^\d{4}\-(0[1-9]|1[0-2])\-(0[1-9]|[12][0-9]|3[01])$/gi;
	if (!regexDate.test(date)){
		printDate1();
	}
	else{
		var yyyy = date.slice(0, 4);
		var mm = date.slice(5, 7);
		var dd = date.slice(8, 10);
		var d = new Date;
		if (yyyy > d.getFullYear()){
			printDate1();
		}
		if (yyyy == d.getFullYear() && mm > (d.getMonth()+1)){
			printDate1();
		}
		if (yyyy == d.getFullYear() && mm == (d.getMonth()+1) && dd > d.getDate()){
			printDate1();
		} 
	}
}

function correctTime(){
	var time = document.getElementById('time1').value;
	var regexTime = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/gi;
	if (!regexTime.test(time)){
		printTime1();
	}
}

numAttachments = 1;
function newAttachField() {
	   if (numAttachments < 10){
	      numAttachments++;
	      var newIn = document.createElement('input');
	      newIn.setAttribute("type", "file");
	      newIn.setAttribute("name", "Attachment" + numAttachments);
	      newIn.setAttribute("onclick", "newAttachField()");
	      var br = document.createElement('br');
	      var Attachments = document.getElementById("attachments");
	      Attachments.appendChild(newIn);
	      Attachments.appendChild(br);
	   }
}

function createStylesList() {
   var style = document.getElementsByTagName("link");
   var numStyles = style.length;
   console.log(numStyles);

   var divStyles = document.getElementById("styles");

   for (i = 0 ; i < iloscStyli ; i++) {
      var current  = document.createElement('a');
      var name = style[i].title;

      current.innerHTML = name;
      current.setAttribute("onclick", "chooseStyle(\"" + nazwaStylu + "\")");

      console.log("AA");
      divStyles.appendChild(aktualnyElement);
      divStyles.appendChild(document.createElement('br'));
   }

}

function chooseStyle(name) {
   var listStyles = document.getElementsByTagName("link");
   var numStyles = listStyles.length;
   for (var i = 0 ; i < numStyles ; i++) {
      var style = listStyles[i];
      if (style.getAttribute("title") == name) {
         style.disabled = false;
         console.log(style.getAttribute("title") + " enabled");
      } else {
         style.disabled = true;
         console.log(style.getAttribute("title") + " disabled");
      }
   }
   setCookie("style", name, 365);
}

function checkCookie() {
   var cookie = readCookie("style");
   chooseStyle(cookie);
}

function setCookie(name, styleName, period) {
   var date = new Date();
   date.setTime(date.getTime() + (period * 24 * 60 * 60 * 1000));
   var expires = "expires=" + date.toUTCString();
   document.cookie = name + "=" + styleName + ";" + expires + "; path=/";
 }

function readCookie(name) {
   var style = "";
   var name = name + "=";
   var cookie = decodeURIComponent(document.cookie);
   var cookieArray = it(';');
   for (var i = 0 ; i < ciasteczko_tablica.length ; i++) {
      var fragment = ciasteczko_tablica[i];
      while (fragment.charAt(0) == ' ') {
         fragment = fragment.substring(1);
      }
      if (fragment.indexOf(nazwa) == 0) {
         styl = fragment.substring(nazwa.length, fragment.length);
         break;
      }
   }
   return styl;
}
